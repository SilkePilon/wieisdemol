!function(n){var o={};function r(t){var e;return(o[t]||(e=o[t]={i:t,l:!1,exports:{}},n[t].call(e.exports,e,e.exports,r),e.l=!0,e)).exports}r.m=n,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=92)}({0:function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return t&&"object"===o(t)&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)}function u(t,e){return e&&!0===e.clone&&s(t)?f(Array.isArray(t)?[]:{},t,e):t}function d(n,t,o){var r=n.slice();return t.forEach(function(t,e){void 0===r[e]?r[e]=u(t,o):s(t)?r[e]=f(n[e],t,o):-1===n.indexOf(t)&&r.push(u(t,o))}),r}function f(t,e,n){var o,r,i,a,c=Array.isArray(e),l=(n||{arrayMerge:d}).arrayMerge||d;return c?Array.isArray(t)?l(t,e,n):u(e,n):(r=e,i=n,a={},s(o=t)&&Object.keys(o).forEach(function(t){a[t]=u(o[t],i)}),Object.keys(r).forEach(function(t){s(r[t])&&o[t]?a[t]=f(o[t],r[t],i):a[t]=u(r[t],i)}),a)}n.d(e,"a",function(){return f}),f.all=function(t,n){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,e){return f(t,e,[{},n])})}},85:function(t,e){t.exports=function(t,e){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n});for(var n=[];t&&t!==document;t=t.parentNode)(!e||t.matches(e))&&n.push(t);return n}},92:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n(85);function a(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){var n;if(t)return"string"==typeof t?o(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===l(t)?t:String(t)}(o.key),o)}}window.At=window.At||{},window.At.ArticleLoadMore=window.At.ArticleLoadMore||{};var u=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.state={loading:!1,stop:!1},this.container=t[0],this.options=r.a.all([e.defaults,window.At.ArticleLoadMore]),this.collection=this.options.collection,this.pageSelector=this.options.selector.page,this.stop=!1,this.visibilityIndex=0,this.analyticsData=!1,this.run()}var t,n,o;return t=e,(n=[{key:"querySelectorRegex",value:function(t,e){var n;if(e instanceof RegExp)return n=function(t){return!!(t&&t instanceof HTMLElement)||!!(t&&t instanceof DocumentFragment)||!(!t||"object"!==l(t)||1!==t.nodeType||!t.nodeName)},function(){if(n(t))return[t];if(t instanceof NodeList&&(t=Array.from(t)),Array.isArray(t))return t.filter(n);if(""!==t&&("string"==typeof t||t instanceof String))return Array.from(document.querySelectorAll(t));throw new TypeError("The first param should be a selector!")}().map(function(t){return Array.from(t.querySelectorAll("*:not(meta):not(script):not(link):not(svg):not(use):not(span)"))}).reduce(function(t,e){return t.concat(e)},[]).filter(function(t){t=t.outerHTML.match(/^<((?:[^>"]+|"[^"]*")+)>/)[1];return e.test(t)});throw new TypeError("The regex parameter must be a Regular Expression")}},{key:"collectDataAttributes",value:function(t){return t.querySelectorAll("*:not(meta):not(script):not(link):not(svg):not(use):not(span)").forEach(function(t){Array.from(t.attributes).filter(function(t){return t.specified&&/^data-/.test(t.nodeName)})}),[]}},{key:"dataAttributes",value:function(){return this.querySelectorRegex(document.querySelector("[".concat(this.options.selector.page,"]:last-of-type")),/data-[a-z]/)}},{key:"dataAttrNormal",value:function(){var n=this,o=[];return this.dataAttributes().forEach(function(t){for(var e in t.dataset){e=(e=e.charAt(0).toUpperCase()+e.slice(1)).startsWith(n.options.event.prefix)?e:n.options.event.prefix+e;o.push([t,e])}}),o}},{key:"dataAttrJsLoad",value:function(){var i=[];return this.dataAttributes().forEach(function(r){r.getAttributeNames().forEach(function(t){var e,n,o;-1!==t.indexOf("data-")&&((e=t.split("-")).shift(),1===e.length&&e.unshift("at"),n=e.join("-"),(o=e).forEach(function(t,e){o[e]=t.charAt(0).toUpperCase()+t.substr(1)}),o=o.join(""),i.push([r,t,n,o]))})}),i}},{key:"fireEventJsLoad",value:function(){var e=this;window.dispatchEvent(new Event("popstate")),void 0!==window.At.LoadJS&&this.dataAttrJsLoad().forEach(function(t){window.At.LoadJS.query("[".concat(t[1],"]"),function(){window.At.LoadJS.require(["".concat(t[2])],function(){window.At.Util.TriggerEvent("".concat(t[3],":").concat(e.options.event.suffix),{element:t[0]})})})}),void 0!==window.At.JSLoader&&window.At.Util.TriggerEvent("JSLoader:Trigger")}},{key:"fireEvent",value:function(){var e=this;window.dispatchEvent(new Event("popstate")),this.dataAttrNormal().forEach(function(t){window.At.Util.TriggerEvent("".concat(t[1],":").concat(e.options.event.suffix),{element:t[0]})})}},{key:"fetch",value:function(){var o=this,r=0<arguments.length&&void 0!==arguments[0]&&arguments[0],i=(this.state.loading=!0,new XMLHttpRequest);i.onload=function(){var t,e,n;200<=i.status&&i.status<400&&(t=(n=i.response).querySelector("[".concat(o.options.selector.page,"]")).outerHTML||"",e=0<n.querySelectorAll("[data-at-store]").length&&n.querySelectorAll("[data-at-store]")[0].outerHTML||"",window.At.analyticsData&&(o.analyticsData=(n=a(n.querySelectorAll("script")).filter(function(t){return t.innerHTML.includes("At.analyticsData")})[0].innerHTML.replace("window.At=window.At||{},window.At.analyticsData=","").replace("window.At = window.At || {};","").replace("window.At.analyticsData =","").replace(";",""),{page:(n=JSON.parse(n.replace(/ /g,"").replace(/\n/g,"").replace(/\\/g,"").replace(/'/g,'"').replace("{page:",'{"page":').replace(/"{/g,"{").replace(/}"/g,"}").replace(",custom:",',"custom":'))).page,custom:n.custom})),o.collection.shift(),o.page(e.concat(t)),r)&&!o.state.loading&&o.fetch()},i.open("GET",this.collection[0]),i.responseType="document",i.send()}},{key:"page",value:function(t){this.container.insertAdjacentHTML("beforeEnd",this.options.content.divider+t),void 0===window.At.JSLoader&&void 0===window.At.LoadJS?this.fireEvent():this.fireEventJsLoad(),this.clickEventArticleAnchors(),this.state.stop=!1,this.state.loading=!1}},{key:"clickEventArticleAnchors",value:function(){var t,n=this,e=function(t,e){var n,o,r,i,a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(a)return o=!(n=!0),{s:function(){a=a.call(t)},n:function(){var t=a.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==a.return||a.return()}finally{if(o)throw r}}};if(Array.isArray(t)||(a=c(t))||e&&t&&"number"==typeof t.length)return a&&(t=a),i=0,{s:e=function(){},n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(document.querySelector("[".concat(this.options.selector.page,"]:last-of-type")).getElementsByTagName("a"));try{for(e.s();!(t=e.n()).done;)!function(){var e=t.value;e.addEventListener("click",function(){var t=JSON.parse(i(e,".article")[0].dataset[n.options.dataset]);t.url!==window.location.pathname.substr(1)&&n.change(t)})}()}catch(t){e.e(t)}finally{e.f()}}},{key:"change",value:function(t){document.title=t.docTitle,window.history.replaceState({},"",t.url)}},{key:"data",value:function(t){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"GAEvent",eventCategory:"AT - Load more",eventAction:t.index,eventLabel:t.url}),window.At.analyticsData&&window.At.Util.TriggerEvent("AtInternet:Send",this.analyticsData),void 0!==document.querySelectorAll("script[data-at-store]")[this.visibilityIndex]&&window.dispatchEvent(new CustomEvent("AtPianoAnalytics:Send",{detail:{id:this.visibilityIndex}}))}},{key:"scroll",value:function(){var e=this,t=window.pageYOffset,n=document.querySelectorAll("[".concat(this.options.selector.page,"]")),o=n[n.length-2],r=0,i=(o&&(r=o.offsetTop+o.offsetHeight-o.offsetHeight*this.options.scrollFactor),-1);n.forEach(function(t){t.getBoundingClientRect().top<=(window.innerHeight||document.documentElement.clientHeight)*e.options.blur&&i++}),this.visibilityIndex!==i&&-1!==i&&(this.visibilityIndex=i,(o=JSON.parse(n[this.visibilityIndex].dataset[this.options.dataset])).index=i,this.change(o),this.data(o)),r<t&&!this.state.stop&&0<this.collection.length&&(this.state.stop=!0,this.state.loading||this.fetch())}},{key:"run",value:function(){var t=this;window.onbeforeunload=function(){document.body.style.opacity="0",window.scrollTo(0,0)},window.addEventListener("scroll",function(){t.scroll()}),this.state.loading||this.fetch(!0)}}])&&s(t.prototype,n),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();u.defaults={blur:.1,scrollFactor:.4,dataset:void 0===window.At.JSLoader?"atArticleLoadMore":"atArticleLoadMoreItem",load:"at-load",selector:{page:void 0===window.At.JSLoader?"data-at-article-load-more":"data-at-article-load-more-item"},event:{prefix:"At",suffix:"Trigger"},content:{divider:'<div class="article-load-more-divider">\n                            <span class="icon">\n                                <svg class="icon-svg">\n                                    <use xlink:href="'.concat(window.At.Path,'/svg-sprite.svg#icon-scrolldown"></use>\n                                </svg>\n                            </span>\n                        </div>')},AT_STORE_ID:void 0},window.addEventListener("AtArticleLoadMore:Trigger",function(){var t;window.At.Browser.checkBot()||null!=(t=document.getElementsByClassName("at-article-load-more"))&&new u(t)}),void 0===window.At.JSLoader&&window.addEventListener("load",function(){window.At.Util.TriggerEvent("AtArticleLoadMore:Trigger")})}});