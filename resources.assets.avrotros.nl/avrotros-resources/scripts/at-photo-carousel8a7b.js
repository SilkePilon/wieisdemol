!function(i){var s={};function n(t){var e;return(s[t]||(e=s[t]={i:t,l:!1,exports:{}},i[t].call(e.exports,e,e.exports,n),e.l=!0,e)).exports}n.m=i,n.c=s,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=234)}({234:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==n(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0===i)return("string"===e?String:Number)(t);i=i.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===n(t)?t:String(t)}(s.key),s)}}i.r(e);var i=function(){function s(t,e,i){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._$element=t,this._data=e||"",this._breakpoint=i,this._externalConfig=window.At.PhotoCarousel.config||{},this._config=$.extend(!0,{},s.defaults,this._externalConfig,this._data),this.template={carousel:_.template(this._config.template.carousel),carousel_mobile:_.template(this._config.template.carousel_mobile),thumbs:_.template(this._config.template.thumbs)},this.current_slide=0,this._init()}var t,e,i;return t=s,(e=[{key:"_init",value:function(){this._getDataSet(),this._querystring(),this._inject()}},{key:"_querystring",value:function(){this.current_slide=parseInt(window.At.Browser.search("at-photo-carousel"))||0}},{key:"_getDataSet",value:function(){var t,e=this._config.data;for(t in this.dataObject=void 0===n(window[e][0])?window[e]:this._getDataSetFromPage(e),this.dataObject)this.dataObject[t].source&&(this.dataObject[t].source="Bron: ".concat(this.dataObject[t].source));this.carousel_length=this.dataObject.length-1}},{key:"_getDataSetFromPage",value:function(t){t=document.querySelector("script#".concat(t)).innerHTML.split("=").pop().replace(";","");return JSON.parse(t)}},{key:"_inject",value:function(){var t="breakpoint-mobile"===this._breakpoint?"carousel_mobile":"carousel";this._config.hideThumbsMobile&&"breakpoint-mobile"===this._breakpoint?this._$element.empty().append(this.template[t]({data:this.dataObject})):this._$element.empty().append(this.template[t]({data:this.dataObject,current_slide:this.current_slide,description:this.description})).append(this.template.thumbs({data:this.dataObject,current_slide:this.current_slide})),this._$carouselPrevious=this._$element.find(this._config.selector.button_previous),this._$carouselNext=this._$element.find(this._config.selector.button_next),this._$carouselExpand=this._$element.find(this._config.selector.button_expand),this._$carouselThumbs=this._$element.find(this._config.selector.thumbs),this._$carouselThumb=this._$element.find(this._config.selector.thumb),this._$carouselThumbImage=this._$element.find(this._config.selector.thumb_image),this._$carouselFigure=this._$element.find(this._config.selector.slide_wrapper),this._$carouselCounter=this._$element.find(this._config.selector.counter),this._$carouselCaption=this._$element.find(this._config.selector.caption),this._$carouselSource=this._$element.find(this._config.selector.source),this._events()}},{key:"_showSlide",value:function(t){"string"==typeof t?(this.current_slide=this.current_slide+parseInt(t),this.current_slide<0?this.current_slide=this.carousel_length:this.current_slide>this.carousel_length&&(this.current_slide=0)):"number"==typeof t&&(this.current_slide=t),0<=this.current_slide&&this.current_slide<=this.carousel_length&&(this._unbind(),this._changeSlide(this.current_slide),this._changeThumbs(this.current_slide))}},{key:"_activeFullScreen",value:function(){return $(this._$element).hasClass(this._config.class.fullscreen)}},{key:"_changeSlide",value:function(t){var e=this;this._$carouselFigure.find(this._config.selector.slide).clone().insertAfter(this._$element.find("".concat(this._config.selector.slide,":last"))).find("img").attr("src",this._activeFullScreen()?this.dataObject[t].large:this.dataObject[t].medium).end().parent().addClass(this._config.class.animate),this._$carouselCounter.text(t+1),this._$carouselCaption.text(this.dataObject[t].caption?this.dataObject[t].caption.replace(/&nbsp;/g,""):""),this._$carouselSource.text(this.dataObject[t].source||""),this._$carouselThumbs.children().removeClass(this._config.class.current).end().children(":eq(".concat(t,")")).addClass(this._config.class.current),this._$carouselFigure.find(this._config.selector.slide).first().one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(t){$(t.target).off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),e._$carouselFigure.removeClass(e._config.class.animate).find(e._config.selector.slide).first().remove(),e._detectAspectRatio(),e._bind()})}},{key:"_detectAspectRatio",value:function(){var t=this._$carouselFigure.find("img:first"),t=1<t.width()/t.height()?"landscape":"portrait";this._$element.removeClass(function(t,e){return(e.match(/\baspect-ratio-\S+/g)||[]).join(" ")}).addClass("aspect-ratio-".concat(t))}},{key:"_changeThumbs",value:function(t){var e=this._$carouselThumb.outerWidth(!0),i=this._$carouselThumb.parent(),t=parseInt((t-1)*e);i.scrollLeft(t)}},{key:"_events",value:function(){var i=this;this._$element.off("AtPhotoCarousel:NextSlide AtPhotoCarousel:PreviousSlide AtPhotoCarousel:Slide AtPhotoCarousel:Expand AtPhotoCarousel:Shrink").on({"AtPhotoCarousel:NextSlide":function(){i._showSlide("+1")},"AtPhotoCarousel:PreviousSlide":function(){i._showSlide("-1")},"AtPhotoCarousel:Slide":function(t,e){i._showSlide(e)},"AtPhotoCarousel:Expand":function(){i._expand()},"AtPhotoCarousel:Shrink":function(){i._shrink()}}),this._bind()}},{key:"_bind",value:function(){var e=this;this._unbind(),this._$carouselPrevious.on("click.AtPhotoCarousel",function(){e._$element.trigger("AtPhotoCarousel:PreviousSlide")}),this._$carouselNext.on("click.AtPhotoCarousel",function(){e._$element.trigger("AtPhotoCarousel:NextSlide")}),this._$carouselExpand.on("click.AtPhotoCarousel",function(){e._$element.trigger("AtPhotoCarousel:Expand")}),this._$carouselThumbImage.on("click.AtPhotoCarousel",function(t){t=$(t.currentTarget).parent().index();e._$element.trigger("AtPhotoCarousel:Slide",[t])}),$(window).on("keydown.AtPhotoCarousel",function(t){t.which===e._config.keys.left&&$("".concat(e._config.selector.data,":visible")).trigger("AtPhotoCarousel:PreviousSlide"),t.which===e._config.keys.right&&$("".concat(e._config.selector.data,":visible")).trigger("AtPhotoCarousel:NextSlide"),t.which===e._config.keys.escape&&$("".concat(e._config.selector.data,":visible")).trigger("AtPhotoCarousel:Shrink")})}},{key:"_expand",value:function(){var t=this;if(this._activeFullScreen())return this._shrink();var e=$(this._$element).outerHeight();$(this._$element).before('<div style="height: '.concat(e,'px;" id="tmp-carousel-spacer" />')),$("body").addClass(this._config.class.disable_scroll),$("body").prepend(this._config.template.backdrop),$(this._$element).addClass(this._config.class.fullscreen),$(".".concat(this._config.class.backdrop)).one("click",function(){t._shrink()})}},{key:"_shrink",value:function(){$("#tmp-carousel-spacer").remove(),$(".".concat(this._config.class.backdrop)).remove(),$("body").removeClass(this._config.class.disable_scroll),$(this._$element).removeClass(this._config.class.fullscreen)}},{key:"_unbind",value:function(){this._$carouselPrevious.off("click.AtPhotoCarousel"),this._$carouselNext.off("click.AtPhotoCarousel"),this._$carouselExpand.off("click.AtPhotoCarousel"),this._$carouselThumbImage.off("click.AtPhotoCarousel"),$(window).off("keydown.AtPhotoCarousel")}},{key:"description",get:function(){return this._config.description||null}},{key:"_attach",value:function(){var t,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=e?$(e):$(this);e.hasClass("is--loaded")||(e.addClass("is--loaded"),t=window.At.Browser.breakpoint()||"breakpoint-desktop",new s(e,e.data("at-photo-carousel"),t))}}])&&o(t.prototype,e),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(),s=(i.defaults={selector:{data:"[data-at-photo-carousel]",slide:".carousel-figure-item",button_previous:".carousel-button-previous",button_next:".carousel-button-next",button_expand:".carousel-button-expand",thumbs:".carousel-thumbs",thumb:".carousel-thumb",thumb_image:".carousel-thumb-image",slide_wrapper:".carousel-figure",counter:".carousel-counter-slide",source:".carousel-source"},class:{current:"is--current",animate:"is--animate",fullscreen:"is--fullscreen",backdrop:"carousel-backdrop",disable_scroll:"disable-scrolling"},keys:{left:37,up:38,right:39,down:40,escape:27},hideThumbsMobile:!0,description:!1,template:{carousel:'\n            <% if (data.description) {%>\n                <h3 class="content-slider-caption"><%= data.description %></h3>\n            <% } %>\n            <div class="carousel-figure">\n                <figure class="carousel-figure-item">\n                    <img src="<%= _.escape(data[0].large) %>" alt="<%= data[0].caption %>" />\n                </figure>\n                <div class="carousel-source"><%= data[0].source %></div>\n                <button class="carousel-button-previous">\n                    <span class="icon">\n                        <svg class="icon-svg">\n                            <use xlink:href="'.concat(window.At.Path,'/svg-sprite.svg#icon-angle-left"></use>\n                        </svg>\n                    </span>\n                </button>\n                <button class="carousel-button-next">\n                    <span class="icon">\n                        <svg class="icon-svg">\n                            <use xlink:href="').concat(window.At.Path,'/svg-sprite.svg#icon-angle-right"></use>\n                        </svg>\n                    </span>\n                </button>\n                <div class="carousel-counter">\n                    <span class="carousel-counter-slide"><%= (current_slide + 1) %></span>/<span class="carousel-counter-length"><%= data.length %></span></div>\n                </div>\n            </div>\n            \n        '),carousel_mobile:'\n            <div class="carousel-figure">\n                <ul class="carousel-thumbs"><% _.each(data, function(data, index){%>\n                    <li class="carousel-thumb">\n                        <img class="carousel-thumb-image" src="<%= data.medium %>" alt="<%= data.caption %>" />\n                    </li>\n                <% }); %></ul>\n            </div>\n        ',thumbs:'\n            <div class="carousel-thumbs-overflow">\n                <ul class="carousel-thumbs"><% _.each(data, function(data, index){%>\n                    <li class="carousel-thumb<% if (index === 0) {%> is--current<% } %>">\n                        <img class="carousel-thumb-image" src="<%= data.small %>" alt="<%= data.caption %>" />\n                    </li>\n                <% }); %></ul>\n            </div>\n        ',backdrop:'\n            <div class="carousel-backdrop">\n                <div class="at-modal-backdrop"></div>\n                <button class="at-modal-close">\n                    <svg class="icon-svg">\n                        <use xlink:href="'.concat(window.At.Path,'/svg-sprite.svg#icon-close"></use>\n                    </svg>\n                </button>\n            </div>\n        ')}},i);window.At=window.At||{},window.At.PhotoCarousel={},void 0===window.At.JSLoader&&$(function(){$("[data-at-photo-carousel]").each(function(){s.prototype._attach($(this))}),$.fn.AtPhotoCarousel=function(){$(this).each(s.prototype._attach)}}),window.addEventListener("AtPhotoCarousel:Trigger",function(t){s.prototype._attach(t.detail.element)})}});